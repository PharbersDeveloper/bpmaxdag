apiVersion: v1
kind: PhJob
metadata:
  name: effectiveness_adjust_mnf
  description: "pharbers job description"
  labels:
    name: effectiveness_adjust_mnf
    runtime: python3
spec:
  containers:
    repository: local
    runtime: python3
    code: phmain.py
    config: phconf.yaml
    command: submit
    timeout: 800
    args:
      - key: job_name
        value: effectiveness_adjust_mnf
      - key: path_prefix
        value: s3a://ph-max-auto/2020-08-11/data_matching/refactor/runs
      - key: word_dict_encode_path
        value: s3a://ph-max-auto/2020-08-11/data_matching/refactor/data/WORD_DIC/0.0.13
      - key: mnf_lexicon_path
        value: s3a://ph-max-auto/2020-08-11/data_matching/refactor/data/LEXICON/0.0.2
      - key: mole_lexicon_path
        value: None 
      - key: mnf_stopwords_path
        value: s3a://ph-max-auto/2020-08-11/data_matching/refactor/data/STOPWORDS/MNF_STOPWORDS/0.1
      - key: mole_stopwords_path
        value: None
      - key: depend_job_names_keys
        value: 
          - effectiveness_with_jws#effective_result#input
      - key: g_repartition_shared
        value: 10
    outputs:
      - key: mnf_adjust_result
        value: mnf_adjust_result
      - key: mnf_adjust_mid
        value: mnf_adjust_mid
